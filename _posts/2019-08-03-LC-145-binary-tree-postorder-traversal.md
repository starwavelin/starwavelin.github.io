---
layout:     post
title:      "LeetCode 145. Binary Tree Postorder Traversal"
subtitle:   "LeetCode 145. äºŒå‰æ ‘çš„ååºéå†"
date:       2019-08-03
author:     "ä»£ç ç¬”è®°å“¥"
header-img:
tags:
    - äºŒå‰è§£ç©ºé—´
    - Binary Tree
---
### å›é¡¾
ä¸Šä¸€æœŸæˆ‘ä»¬åšçš„â€œ[LeetCode 144. äºŒå‰æ ‘çš„å‰åºéå†](https://mp.weixin.qq.com/s?__biz=MzUyODY0MTM4Mg==&mid=2247483853&idx=1&sn=34ae76652ce2c02f16d441ee38ffa530&chksm=fa6c7dc4cd1bf4d203052e64f1326698e408d4a3e392e052f96e6f38abac92c9602f5ec2d524&token=1681623248&lang=zh_CN#rd)â€çš„è§£æ³•ä¸€ï¼Œæœ‰ç½‘å‹é—®é“ä¸ºä»€ä¹ˆæˆ‘ä»¬å¯ä»¥æŠŠå­˜ç»“æœçš„æ•´æ•°åˆ—è¡¨`res`æ”¾åˆ°è¾…åŠ©çš„traverse()é€’å½’å‡½æ•°ä¸­ï¼Œé€æ­¥å°†æ¯ä¸€æ­¥çš„ç»“æœå¡«å……å…¥å…¶ä¸­å‘¢ï¼Ÿ  
å…¶å®ï¼Œç¬”è®°å“¥ä¸Šä¸€æ¬¡åˆ†äº«çš„æ–‡ç« ã€Š[10å¼  GIF åŠ¨å›¾è®©ä½ å¼„æ‡‚é€’å½’ç­‰æ¦‚å¿µ](https://mp.weixin.qq.com/s?__biz=MzUyODY0MTM4Mg==&mid=2247483857&idx=1&sn=0644253d3a5fcb3f08726b099d01bf09&chksm=fa6c7dd8cd1bf4ceb063c2c182a9599349b250f2f4920d02582ee983706d2d071503867ea5a8&token=1681623248&lang=zh_CN#rd)ã€‹ä¸­çš„â€œGIF 7ï¼šæŒ‰å€¼ä¼ é€’å’ŒæŒ‰å¼•ç”¨ä¼ é€’çš„åŒºåˆ«â€è§£é‡Šäº†è¿™ä¸ªé—®é¢˜ã€‚  
åœ¨Javaè¯­è¨€ä¸­ï¼Œ`int`,`float`,`char`,`double`ç­‰ç­‰æ˜¯primitive typeï¼Œä¸­æ–‡è²Œä¼¼ç¿»è¯‘åšâ€œåŸå§‹å‹â€ï¼Œè¿™äº›ç±»å‹çš„æ•°æ®å°±æ˜¯æŒ‰ç…§æ•°å€¼ä¼ é€’çš„ï¼Œæ‰€ä»¥å½“è¿™äº›ç±»å‹çš„å˜é‡è¢«ä¼ è¿›ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå†…å­˜ä¸­çš„æ ˆ(stack)å¤åˆ¶äº†ä¸€ä»½å®ƒçš„æ•°å€¼ï¼Œä¸¤ä¸ªâ€œå®ƒä»¬â€å…¶å®æ˜¯å®Œå…¨ä¸åŒçš„æ‹·è´ï¼›å½“åœ¨å‡½æ•°ä¸­çš„å®ƒè¢«æ”¹å€¼çš„æ—¶å€™ï¼Œå¤–é¢çš„é‚£ä¸ªå®ƒæ˜¯ä¸ä¼šæ„Ÿåº”åˆ°å€¼çš„å˜åŒ–çš„ï¼Œå³è¿™ä¸ªåŠ¨å›¾ä¸­çš„â€œpass by valueâ€â˜•ï¸æ¯çš„ä¾‹å­ã€‚OKï¼Œæˆ‘ä»¬ä¸Šä¸€æœŸåšé¢˜çš„æ—¶å€™ï¼Œä¼ ç»™`traverse()`å‡½æ•°çš„æ˜¯ä¸€ä¸ªæ•´æ•°åˆ—è¡¨(List<Integer>)ï¼Œè¿™åœ¨Javaè¯­è¨€ä¸­æ˜¯å¯¹è±¡ç±»å‹ï¼Œä¸”å¯¹è±¡ç±»å‹ä¼ é€’çš„æ˜¯åŸå¯¹è±¡çš„å¼•ç”¨ï¼Œå¯¹åº”çš„å°±æ˜¯åŠ¨å›¾ä¸­â€œpass by referenceâ€â˜•ï¸æ¯çš„ä¾‹å­ã€‚æ‰€ä»¥å•Šï¼Œå½“resè¿™ä¸ªæ•´æ•°åˆ—è¡¨åœ¨traverse()é€’å½’å‡½æ•°ä¸­è¢«æ”¹äº†å€¼çš„æ—¶å€™ï¼Œtraverse()å‡½æ•°å¤–é¢çš„resæ˜¯å¯ä»¥åŒæ—¶æ„Ÿåº”åˆ°å€¼çš„æ”¹å˜çš„ï¼Œå› ä¸ºä¼ é€’ç»™traverse()å‡½æ•°åªæ˜¯ä¸€ä¸ªæ–°çš„resçš„å¼•ç”¨ï¼Œè¿™ä¸¤ä¸ªå¼•ç”¨å…¶å®éƒ½æŒ‡å‘å†…å­˜å †(heap)ä¸­çš„åŒä¸€ä¸ªè®°å½•resçš„å€¼çš„ä¸€æ®µç©ºé—´ã€‚  

å†æ¬¡çš„ï¼Œè§£é¢˜â€œä¸ƒæ­¥èµ°â€ (é¢è¯•ç­”é¢˜æ—¶å€™ä¸ä¸€å®šæ¯ä¸€æ­¥éƒ½ç”¨ä¸Šï¼Œä½†è¦ä¿æŒè¿™ç§sense)ï¼š  
1. é¢˜æ„ Scenario
2. å‡è®¾ Assumptions
3. ä¸¾ä¾‹ä¸è¾“å…¥è¾“å‡º Examples and figure out Input/Output
4. æ€è·¯ï¼ˆä»€ä¹ˆæ•°æ®ç»“æ„ï¼Œ ä»€ä¹ˆç®—æ³•ï¼‰Thinking Process (What data structure, algorithm?)
5. ä»£ç  Coding
6. å¤æ‚åº¦åˆ†æ Complexity Analysis
7. æµ‹è¯• Tests

### é¢˜ç›®è¦æ±‚
[åŸé¢˜é“¾æ¥](https://leetcode.com/problems/binary-tree-postorder-traversal/)  
ä¸­è¯‘ï¼šé€šè¿‡ååºéå†çš„æ–¹å¼éå†ä¸€ä¸ªäºŒå‰æ ‘ï¼Œå¹¶æŠŠéå†çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼å­˜åˆ°ä¸€ä¸ªæ•°ç»„ï¼ˆæˆ–æ•´æ•°åˆ—è¡¨ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯Javaè¯­è¨€ï¼‰ä¸­ï¼Œè¿”å›è¿™ä¸ªæ•°ç»„ã€‚

### ä¸¾ä¾‹ä¸è¾“å…¥è¾“å‡º
å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œç¬¬ä¸€å±‚æ ¹èŠ‚ç‚¹æœ‰æœ‰ä¸€ä¸ªæ ¹ä¸º4ï¼Œæ ¹çš„å·¦èŠ‚ç‚¹ä¸ºnullï¼Œå³èŠ‚ç‚¹ä¸º9ã€‚åœ¨ç¬¬äºŒå±‚èŠ‚ç‚¹9ä¹‹ä¸‹ï¼Œå®ƒæœ‰å·¦èŠ‚ç‚¹ä¸º7ï¼Œå³èŠ‚ç‚¹ä¸ºnullã€‚åœ¨å›¾ä¸­ï¼Œæˆ‘ç”¨#å·æ¥è¡¨ç¤ºnullã€‚
```
   4
  /  \
 #   9
    /  \
    7   #
   / \
   #  #
```
é‚£ä¹ˆï¼Œæˆ‘ä»¬è¦å¾—åˆ°çš„ç»“æœå°±åº”æ˜¯æ•°ç»„[7, 9, 4]ã€‚

### æ€è·¯1: ä»postorderçš„å®šä¹‰å‡ºå‘çš„æ–¹æ³•
postorderçš„å®šä¹‰ç”¨ä¸­æ–‡æ¦‚æ‹¬å°±æ˜¯æŒ‰ **â€œå·¦å³æ ¹â€** çš„é¡ºåºè¿›è¡Œè®¿é—®ã€‚æ¬¢è¿è¯»è€…æŒ‰ç…§ä¸Šä¸€æœŸâ€œ[LeetCode 144. äºŒå‰æ ‘çš„å‰åºéå†](https://mp.weixin.qq.com/s?__biz=MzUyODY0MTM4Mg==&mid=2247483853&idx=1&sn=34ae76652ce2c02f16d441ee38ffa530&chksm=fa6c7dc4cd1bf4d203052e64f1326698e408d4a3e392e052f96e6f38abac92c9602f5ec2d524&token=1681623248&lang=zh_CN#rd)â€çš„ æ€è·¯1 çš„æ€è€ƒè¿‡ç¨‹ï¼Œåœ¨è‰ç¨¿çº¸ä¸Šç”»ä¸€ä¸‹è¿™æ£µæ ‘çš„ååºéå†è®¿é—®è¿‡ç¨‹ã€‚

### ä»£ç 1
```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public List<Integer> postorderTraversal(TreeNode root) {
        // ç”Ÿæˆå­˜æ”¾ç»“æœçš„æ•´æ•°åˆ—è¡¨
        List<Integer> res = new ArrayList<>();

        // æŠŠæ•´æ•°åˆ—è¡¨æ”¾åˆ°è¾…åŠ©çš„traverse()é€’å½’å‡½æ•°ä¸­ï¼Œé€æ­¥å°†å…¶å¡«å……å…¥ç»“æœ
        traverse(root, res);

        // è¿”å›ç»“æœæ•´æ•°åˆ—è¡¨
        return res;
    }

    void traverse(TreeNode root, List<Integer> res) {
        // é€’å½’çš„åŸºæœ¬æƒ…å†µ: å½“æ ¹ä¸ºnullçš„æ—¶å€™
        if (root == null) {
            return;
        }

        // é€’å½’çš„recursiveæƒ…å†µ: ä»postorderå®šä¹‰å‡ºå‘
        traverse(root.left, res);  // å¤„ç†å½“å‰rootçš„å·¦å­æ ‘
        traverse(root.right, res);  // å¤„ç†å½“å‰rootçš„å³å­æ ‘
        res.add(root.val);  // æ·»åŠ å½“å‰rootçš„å€¼è¿›å…¥åˆ°ç»“æœåˆ—è¡¨
    }
}
```

### æ€è·¯2: åˆ†æ²»æ³•
æ¬¢è¿è¯»è€…æ¨¡ä»¿ä¸Šä¸€æœŸâ€œ[LeetCode 144. äºŒå‰æ ‘çš„å‰åºéå†](https://mp.weixin.qq.com/s?__biz=MzUyODY0MTM4Mg==&mid=2247483853&idx=1&sn=34ae76652ce2c02f16d441ee38ffa530&chksm=fa6c7dc4cd1bf4d203052e64f1326698e408d4a3e392e052f96e6f38abac92c9602f5ec2d524&token=1681623248&lang=zh_CN#rd)â€çš„ æ€è·¯2 çš„æ€è€ƒè¿‡ç¨‹ï¼Œæƒ³ä¸€æƒ³è¿™æ£µæ ‘çš„ååºéå†è®¿é—®è¿‡ç¨‹ã€‚

æ‚¨å¯ä»¥æ€è€ƒä¸€ä¸‹ï¼šè¿™ä¸€æ¬¡ï¼ŒèŠ‚ç‚¹7æ˜¯ä¸æ˜¯æˆ‘ä»¬æœ€å…ˆå¤„ç†å¥½çš„èŠ‚ç‚¹ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œä¸ºä»€ä¹ˆè¿™ä¸€æ¬¡å®ƒä¼šåœ¨ç»“æœæ•°ç»„ä¸­å‡ºç°åœ¨ç¬¬ä¸€ä½å‘¢ï¼Ÿ

OKï¼Œå†æ¬¡å›é¡¾ä¸€ä¸‹æˆ‘ä»¬åœ¨ [LeetCode 226. Invert Binary Tree](http://starwavelin.com/2019/06/10/LC-226-invert-binary-tree/) è¿™é“é¢˜çš„è®²è§£ä¸­çš„åˆ†æ²»æ³•æ¨¡æ¿ã€‚
```
æ¨¡æ¿ï¼š
public TreeNode someFunction(TreeNode root) {
   1. write base case

   2. write divisionï¼Œconceptually as below:
   root.left = someFunction(root.right);
   root.right = someFunction(root.left);

   3. Conquer
   ie. combine some results
   return value;
}
```

ç»æ¨¡æ¿æ¨å€’å‡ºå¦‚ä¸‹ä»£ç 

### ä»£ç 2
```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public List<Integer> postorderTraversal(TreeNode root) {
        // ç”Ÿæˆå­˜æ”¾ç»“æœçš„æ•´æ•°åˆ—è¡¨
        List<Integer> res = new ArrayList<>();

        // base case
        if (root == null) {
            return res;
        }

        // write division
        List<Integer> left = postorderTraversal(root.left);
        List<Integer> right = postorderTraversal(root.right);

        // conquer
        // conquerçš„å‰ææ˜¯å‡å®šå½“å‰æ ¹çš„å·¦å­æ ‘ã€å³å­æ ‘éƒ½æå®šäº†ï¼Œ
        // å°±æŒ‰ å·¦å³æ ¹ çš„é¡ºåºæŠŠç»“æœåˆå¹¶èµ·æ¥å°±è¡Œäº†ï¼Œç¬¦åˆpostorderå®šä¹‰
        res.addAll(left);
        res.addAll(right);
        res.add(root.val);

        // è¿”å›ç»“æœæ•´æ•°åˆ—è¡¨
        return res;
    }
}
```

**ä»£ç å°ç»“**  
1. å›ç­”ğŸ‘†çš„æ€è€ƒé—®é¢˜ã€‚èŠ‚ç‚¹7ç¡®å®æ˜¯æˆ‘ä»¬æœ€å…ˆå¤„ç†å¥½çš„èŠ‚ç‚¹ã€‚è¿™ä¸€æ¬¡ï¼Œåœ¨ååºéå†çš„åˆ†æ²»è§£æ³•ä¸­ï¼Œå®ƒä¼šåœ¨ç»“æœæ•°ç»„ä¸­å‡ºç°åœ¨ç¬¬ä¸€ä½ï¼Œæ˜¯å› ä¸ºåˆ†æ²»è§£æ³•çš„æ²»(conquer)çš„è¿‡ç¨‹ä¿è¯äº†è¾“å‡ºç»“æœçš„é¡ºåºã€‚
æˆ‘ä»¬çœ‹çœ‹ç¨‹åºè¿è¡Œåˆ°å­˜å‚¨ä»¥9ä¸ºå…¨å±€çš„æ ¹çš„å­æ ‘æ—¶å€™çš„æƒ…å†µ
```
res.addAll(left); // ç»“æœåˆ—è¡¨åŠ å…¥ 7
res.addAll(right); // ç»“æœåˆ—è¡¨åŠ å…¥ ç©ºåˆ—è¡¨ï¼ŒåŸå› æ˜¯9çš„å³å­æ ‘ä¸ºç©º
res.add(root.val); // ç»“æœåˆ—è¡¨åŠ å…¥ 9
```

### æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦åˆ†æ
æ—¶é—´å¤æ‚åº¦ï¼Œç”±äºäºŒå‰æ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½ä¼šéå†åˆ°ï¼Œæ‰€ä»¥æ˜¯`O(n)`ï¼Œnä¸ºäºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚  
ç©ºé—´å¤æ‚åº¦ï¼Œç”±äºæ–°å¼€äº†ä¸€ä¸ªå˜é‡ç”¨äºå­˜æ‰€æœ‰èŠ‚ç‚¹çš„å€¼çš„`res`ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸º`O(n)`ã€‚
